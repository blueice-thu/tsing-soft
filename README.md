# tsing-soft说明文档

## 实验说明

本项目是基于助教所给的后端API，利用Vue搭建的前端工程，使用了如下插件和技术：

- vuetify提供的UI组件，构建了网站的Material Design风格
- axios，与后端API进行交互
- vue-router，构建网站路由跳转

## 启动方式

安装依赖：

```
npm install
```

运行程序：

```
npm run serve
```

## 功能实现

下面分文件进行介绍：

### `index.vue`

- 由用户名、密码进行登录，本地利用`localStorage`存储`jwt`密钥，保持登录状态；
- 用户名或密码错误时进行提示；
- 用户可以选择是否保持登录状态;
- 本地`jwt`可用时，自动进行登录和跳转。

### `posts.vue`

- 显示用户的基本信息（ID、昵称、用户名、创建时间）；
- 浏览所有用户（广场）的最新帖子、某个用户的帖子，可以点击按钮显示下一页的帖子，用户可以选择按发帖时间还是回复时间排序，编辑过的帖子将会显示“已编辑”；
- 将帖子的发布时间优化为多长时间之前，如：“3天前”、"3分钟前"；

- 点击按钮展开或收起帖子内容，点击按钮前往评论页面、发布帖子页面、编辑自己的帖子页面；
- 查看自己收藏的帖子、浏览过（即前往评论区）的帖子；
- 退出登录，删除本地数据。

### `write.vue`

- 发布帖子的标题和内容，其中内容支持Markdown语法，兼容部分HTML标签，支持Microsoft自带表情；
- 限制用户的字符数量，以及不得发布标题或者内容为空的帖子；
- 编辑自己的帖子。
- 发布帖子之后，自动前往评论页面。

### `comment.vue`

- 浏览帖子的用户评论，以较好的逻辑显示楼中楼；

- 收藏或者取消收藏帖子，点进此页面自动将本帖子加入浏览历史；
- 只看楼主的评论，发布自己的评论，评论后自动刷新页面。
- 对于尺寸较大的图片进行缩放，点击图片可以查看原图或还原尺寸。

此外，`about.vue`显示关于网站的信息，`navbar.vue`提供一个可以全局使用的导航栏，点击logo返回帖子列表。

## 亮点和难点

亮点：

- UI风格统一，过度动画自然，逻辑设计简单，用户体验较好。
- 进行适当的函数封装，使得项目架构清晰。
- 代码风格整洁一致，有适当注释。

难点：

- 图片尺寸大小的动态调整。
- 刷新页面、页面返回、登录信息过期等情况发生时，仍能保持页面良好运行，而非出现白屏、需要重新登录等情况。

## 测试帖子

- 测试图片的postid：784
- 测试markdown内容显示的postid：775